// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


model Job {

 id                       Int           @id @default(autoincrement())
 job_id                   String
 job_name                 String
 base_salary              Int
 transportation_allowance Int
 meal_allowance           Int?
 userId                   Int
 createdAt                DateTime
 updatedAt                DateTime
 employeeDataId           Int?
 EmployeeData             Employee?     @relation(fields: [employeeDataId],references: [id])

}

model Attendance {
 id             Int      @id @default(autoincrement())
 month          String
 employee_id    String
 employee_name  String
 gender         String
 job_name       String?
 present        Int?
 sick           Int?
 absent         Int?
 createdAt      DateTime
 updatedAt      DateTime
}

model Employee{
 id             Int     @id @default(autoincrement())
 employee_id    String  @unique
 PAN            String? @unique
 employee_name  String
 username       String  @unique
 password       String
 gender         String
 job_title      String
 join_date      String
 status         String
 photo          String?
 url            String?
 access_rights  AccessRights
 createdAt      DateTime?
 updatedAt      DateTime?
 jobs           Job[]
}

enum AccessRights{
  user
  admin
}

model Deduction {
 id               Int     @id @default(autoincrement())
 deduction        String
 deduction_amount Int
 createdAt        DateTime
 updatedAt        DateTime
}
// Sessions
model Session {
 sid        String      @id
 expires    DateTime
 data       String?
 createdAt  DateTime
 updatedAt  DateTime
}